<div class="card adventure-log" [class.half-size]="half">
  <h4 class="card-header no-margin-bottom">Adventure Log</h4>
  <div class="card-block no-padding">
    <div class="card-text adventure-log-message" *ngFor="let message of adventureLog">

      <div class="message-icon">
        <stat [size]="'300'" [name]="message.category"></stat>
      </div>

      <div class="message-data">
        <div class="message-timestamp text-muted">
          <small>{{ message.timestamp | date:'medium' }}</small>
          <small *ngIf="message.extraData && message.extraData.battleName">
            <a class="pointer" [routerLink]="['/play/combat', { name: message.extraData.battleName }]">[View Battle]</a>
          </small>
          <small *ngIf="message.extraData && message.extraData.link">
            <a class="pointer" [href]="message.extraData.link" target="_blank">[View Link]</a>
          </small>
        </div>

        <div class="message" [innerHtml]="linkifyText(message.text)"></div>
      </div>

    </div>
  </div>
</div>