{"version":3,"sources":["../../src/pages/pets/pets.module.ts","../../src/pages/pets/pets.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACP;AAC0C;AAC5B;AAMhD,IAAa,cAAc;IAA3B;IAA6B,CAAC;IAAD,qBAAC;AAAD,CAAC;AAAjB,cAAc;IAJ1B,8EAAQ,CAAC;QACR,YAAY,EAAE,CAAC,uDAAQ,CAAC;QACxB,OAAO,EAAE,CAAC,6FAAsB,EAAE,sEAAe,CAAC,QAAQ,CAAC,uDAAQ,CAAC,CAAC;KACtE,CAAC;GACW,cAAc,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACRe;AACe;AAEP;AACc;AAEnB;AACM;AAEE;AASrD,IAAa,QAAQ;IAAS,4BAAa;IAUzC,kBACS,QAAkB,EAClB,MAAc,EACd,OAAsB,EACtB,OAA4B;QAJrC,YAME,kBAAM,QAAQ,EAAE,MAAM,EAAE,OAAO,CAAC,SACjC;QANQ,cAAQ,GAAR,QAAQ,CAAU;QAClB,YAAM,GAAN,MAAM,CAAQ;QACd,aAAO,GAAP,OAAO,CAAe;QACtB,aAAO,GAAP,OAAO,CAAqB;QAb9B,kBAAY,GAAG,wEAAgB,CAAC;QAChC,eAAS,GAAG,kEAAa,CAAC;QAGjC,oBAAc,GAAW,EAAE,CAAC;QAGrB,gBAAU,GAAG,CAAC,CAAC;;IAStB,CAAC;IAED,2BAAQ,GAAR;QAAA,iBAUC;QATC,iBAAM,QAAQ,WAAE,CAAC;QAEjB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,SAAS,CAAC,cAAI;YACtD,KAAI,CAAC,cAAc,GAAG,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YAC1C,KAAI,CAAC,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;QAC5B,CAAC,CAAC,CAAC;QAEH,IAAM,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,eAAe,CAAC,CAAC;QACnD,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC;IACxB,CAAC;IAED,8BAAW,GAAX;QACE,iBAAM,WAAW,WAAE,CAAC;QAEpB,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,CAAC;IAChC,CAAC;IAED,4BAAS,GAAT,UAAU,MAAM;QACd,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,eAAe,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC;IACpD,CAAC;IAED,2BAAQ,GAAR,UAAS,IAAI;QACX,EAAE,EAAC,CAAC,IAAI,CAAC,UAAU,CAAC;YAAC,MAAM,CAAC,EAAE,CAAC;QAE/B,MAAM,CAAI,IAAI,CAAC,SAAS,CAAC,MAAM,SAAI,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAG,CAAC;IACxF,CAAC;IAEH,eAAC;AAAD,CAAC,CA/C6B,iFAAa,GA+C1C;AA/CY,QAAQ;IAPpB,uFAAS,CAAC;QACT,OAAO,EAAE,MAAM;KAChB,CAAC;IACD,+EAAS,CAAC;QACT,QAAQ,EAAE,WAAW;OACG;KACzB,CAAC;kEAY2B;QACV,oEAAM;QACL,2EAAa;QACb,KAAmB;AAiCtC;SA/CY,QAAQ,e","file":"7.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { PetsPage } from './pets';\nimport { GlobalComponentsModule } from '../../components/components.module';\nimport { IonicPageModule } from 'ionic-angular';\n\n@NgModule({\n  declarations: [PetsPage],\n  imports: [GlobalComponentsModule, IonicPageModule.forChild(PetsPage)]\n})\nexport class PetsPageModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/pets/pets.module.ts","\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController } from 'ionic-angular';\n\nimport { AppState, Primus } from '../../services';\nimport { PlayComponent } from '../../components/play.component';\n\nimport { PetsItemsPage } from './pets-items';\nimport { PetsOverviewPage } from './pets-overview';\n\nimport { LocalStorageService } from 'ng2-webstorage';\n\n@IonicPage({\n  segment: 'pets'\n})\n@Component({\n  selector: 'page-pets',\n  templateUrl: 'pets.html'\n})\nexport class PetsPage extends PlayComponent {\n  public overviewRoot = PetsOverviewPage;\n  public itemsRoot = PetsItemsPage;\n\n  petactive$: any;\n  inventoryBadge: string = '';\n  hasPet: boolean;\n\n  public defaultTab = 0;\n\n  constructor(\n    public appState: AppState,\n    public primus: Primus,\n    public navCtrl: NavController,\n    public storage: LocalStorageService\n  ) {\n    super(appState, primus, navCtrl);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n\n    this.petactive$ = this.appState.petactive.subscribe(data => {\n      this.inventoryBadge = this.setBadge(data);\n      this.hasPet = !!data.name;\n    });\n\n    const tab = this.storage.retrieve('currentPetTab');\n    this.defaultTab = tab;\n  }\n\n  ngOnDestroy() {\n    super.ngOnDestroy();\n\n    this.petactive$.unsubscribe();\n  }\n\n  changeTab(newTab) {\n    this.storage.store('currentPetTab', newTab.index);\n  }\n\n  setBadge(data) {\n    if(!data.scaleLevel) return '';\n\n    return `${data.inventory.length}/${data.$scale.inventory[data.scaleLevel.inventory]}`;\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/pets/pets.ts"],"sourceRoot":""}