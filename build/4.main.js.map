{"version":3,"sources":["../../src/pages/settings/settings.module.ts","../../src/pages/settings/settings.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACC;AACM;AAMhD,IAAa,kBAAkB;IAA/B;IAAiC,CAAC;IAAD,yBAAC;AAAD,CAAC;AAArB,kBAAkB;IAJ9B,8EAAQ,CAAC;QACR,YAAY,EAAE,CAAC,+DAAY,CAAC;QAC5B,OAAO,EAAE,CAAC,sEAAe,CAAC,QAAQ,CAAC,+DAAY,CAAC,CAAC;KAClD,CAAC;GACW,kBAAkB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACRH;AAEiC;AACJ;AAEX;AAEI;AACc;AAahE,IAAa,YAAY;IAAS,gCAAa;IAgC7C,sBACS,QAAkB,EAClB,MAAc,EACd,OAAsB;QAH/B,YAKE,kBAAM,QAAQ,EAAE,MAAM,EAAE,OAAO,CAAC,SACjC;QALQ,cAAQ,GAAR,QAAQ,CAAU;QAClB,YAAM,GAAN,MAAM,CAAQ;QACd,aAAO,GAAP,OAAO,CAAe;QA7B/B,aAAO,GAAa,EAAE,CAAC;QAGvB,YAAM,GAAa,EAAE,CAAC;QAWtB,YAAM,GAAG;YACP,EAAE,IAAI,EAAE,SAAS,EAAS,GAAG,EAAE,SAAS,EAAE;YAC1C,EAAE,IAAI,EAAE,cAAc,EAAI,GAAG,EAAE,QAAQ,EAAE;YACzC,EAAE,IAAI,EAAE,eAAe,EAAG,GAAG,EAAE,YAAY,EAAE;YAC7C,EAAE,IAAI,EAAE,MAAM,EAAY,GAAG,EAAE,MAAM,EAAE;YACvC,EAAE,IAAI,EAAE,WAAW,EAAO,GAAG,EAAE,UAAU,EAAE;YAC3C,EAAE,IAAI,EAAE,eAAe,EAAG,GAAG,EAAE,cAAc,EAAE;YAC/C,EAAE,IAAI,EAAE,YAAY,EAAM,GAAG,EAAE,QAAQ,EAAE;YACzC,EAAE,IAAI,EAAE,UAAU,EAAQ,GAAG,EAAE,UAAU,EAAE;YAC3C,EAAE,IAAI,EAAE,UAAU,EAAQ,GAAG,EAAE,UAAU,EAAE;SAC5C,CAAC;;IAQF,CAAC;IAED,sBAAI,iCAAO;aAAX;YACE,MAAM,CAAC,qBAAO,CAAC;QACjB,CAAC;;;OAAA;IAED,sBAAI,gCAAM;aAAV;YACE,MAAM,CAAC;gBACL,EAAE,IAAI,EAAE,YAAY,EAAE,MAAM,EAAE,KAAK,EAAE;gBACrC,EAAE,IAAI,EAAE,UAAU,EAAE,MAAM,EAAE,gBAAgB,EAAE;gBAC9C,EAAE,IAAI,EAAE,UAAU,EAAE,MAAM,EAAE,aAAa,EAAE;gBAC3C,EAAE,IAAI,EAAE,aAAa,EAAE,MAAM,EAAE,iCAAiC,EAAE;gBAClE,EAAE,IAAI,EAAE,QAAQ,EAAE,MAAM,EAAE,aAAa,EAAE;gBACzC,EAAE,IAAI,EAAE,UAAU,EAAE,MAAM,EAAE,gCAAgC,EAAE;aAC/D,CAAC;QACJ,CAAC;;;OAAA;IAED,+BAAQ,GAAR;QAAA,iBAWC;QAVC,iBAAM,QAAQ,WAAE,CAAC;QAEjB,EAAE,EAAC,CAAC,IAAI,CAAC,KAAK,CAAC;YAAC,IAAI,CAAC,KAAK,GAAG,SAAS,CAAC;QAEvC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,SAAS,CAAC,cAAI,IAAI,YAAI,CAAC,aAAa,GAAG,IAAI,EAAzB,CAAyB,CAAC,CAAC;QAC/F,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,SAAS,CAAC,cAAI,IAAI,YAAI,CAAC,OAAO,GAAG,IAAI,EAAnB,CAAmB,CAAC,CAAC;QAC7E,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,SAAS,CAAC,cAAI,IAAI,YAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAtB,CAAsB,CAAC,CAAC;QAE1F,IAAI,CAAC,MAAM,CAAC,oBAAoB,EAAE,CAAC;QACnC,IAAI,CAAC,MAAM,CAAC,mBAAmB,EAAE,CAAC;IACpC,CAAC;IAED,kCAAW,GAAX;QACE,iBAAM,WAAW,WAAE,CAAC;QAEpB,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE,CAAC;QAClC,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC;QAC5B,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC;IACnC,CAAC;IAED,kCAAW,GAAX,UAAY,YAAY;QACtB,IAAI,CAAC,MAAM,GAAG,oCAAC,CAAC,YAAY,CAAC;aAC1B,GAAG,CAAC,SAAS,CAAC;aACd,WAAW,EAAE;aACb,MAAM,CAAC,gBAAM,IAAI,aAAM,CAAC,IAAI,KAAK,OAAO,EAAvB,CAAuB,CAAC;aACzC,GAAG,CAAC,OAAO,CAAC;aACZ,KAAK,EAAE,CAAC;IACb,CAAC;IAED,mCAAY,GAAZ,UAAa,MAAM;QACjB,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;IACnC,CAAC;IAED,kCAAW,GAAX,UAAY,KAAK;QACf,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;IACjC,CAAC;IAED,wCAAiB,GAAjB,UAAkB,WAAW;QAC3B,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,WAAW,CAAC,CAAC;IAC7C,CAAC;IAEH,mBAAC;AAAD,CAAC,CAjGiC,iFAAa,GAiG9C;AArFC;IADC,2FAAY,EAAE;;2CACD;AAGd;IADC,2FAAY,EAAE;;0DACe;AAG9B;IADC,2FAAY,EAAE;;kDACO;AAlBX,YAAY;IAPxB,uFAAS,CAAC;QACT,OAAO,EAAE,UAAU;KACpB,CAAC;IACD,+EAAS,CAAC;QACT,QAAQ,EAAE,eAAe;OACG;KAC7B,CAAC;kEAkC2B;QACV,oEAAM;QACL,SAAa;AA8DhC;SAjGY,YAAY,e","file":"4.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { SettingsPage } from './settings';\nimport { IonicPageModule } from 'ionic-angular';\n\n@NgModule({\n  declarations: [SettingsPage],\n  imports: [IonicPageModule.forChild(SettingsPage)],\n})\nexport class SettingsPageModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.module.ts","import * as _ from 'lodash';\n\nimport { Component, OnInit, OnDestroy } from '@angular/core';\nimport { IonicPage, NavController } from 'ionic-angular';\n\nimport { LocalStorage } from 'ng2-webstorage';\n\nimport { AppState, Primus } from '../../services';\nimport { PlayComponent } from '../../components/play.component';\n\nimport { Personalities } from '../../models';\n\ndeclare var VERSION: string;\n\n@IonicPage({\n  segment: 'settings'\n})\n@Component({\n  selector: 'page-settings',\n  templateUrl: 'settings.html'\n})\nexport class SettingsPage extends PlayComponent implements OnInit, OnDestroy {\n\n  personalities$: any;\n  personalities: Personalities;\n\n  genders$: any;\n  genders: string[] = [];\n\n  achievements$: any;\n  titles: string[] = [];\n\n  @LocalStorage()\n  theme: string;\n\n  @LocalStorage()\n  faviconNotifications: boolean;\n\n  @LocalStorage()\n  compressChat: boolean;\n\n  themes = [\n    { name: 'Default',        val: 'default' },\n    { name: 'AMOLED Black',   val: 'amoled' },\n    { name: 'Black & White',  val: 'blackwhite' },\n    { name: 'Dark',           val: 'dark' },\n    { name: 'Dim Ocean',      val: 'dimocean' },\n    { name: 'Green Machine',  val: 'greenmachine' },\n    { name: 'l33t h4x0r',     val: 'hacker' },\n    { name: 'Majestic',       val: 'majestic' },\n    { name: 'Orangina',       val: 'orangina' }\n  ];\n\n  constructor(\n    public appState: AppState,\n    public primus: Primus,\n    public navCtrl: NavController,\n  ) {\n    super(appState, primus, navCtrl);\n  }\n\n  get version() {\n    return VERSION;\n  }\n\n  get thanks() {\n    return [\n      { name: 'Darkblizer', reason: 'Art' },\n      { name: 'Sedgwick', reason: 'Donation, Maps' },\n      { name: 'Yngvildr', reason: 'Development' },\n      { name: 'Therealtahu', reason: 'Support, Development, Stability' },\n      { name: 'Anexes', reason: 'Development' },\n      { name: 'Ascended', reason: 'Content, Development, Donation' }\n    ];\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n\n    if(!this.theme) this.theme = 'default';\n\n    this.personalities$ = this.appState.personalities.subscribe(data => this.personalities = data);\n    this.genders$ = this.appState.genders.subscribe(data => this.genders = data);\n    this.achievements$ = this.appState.achievements.subscribe(data => this.parseTitles(data));\n\n    this.primus.requestPersonalities();\n    this.primus.requestAchievements();\n  }\n\n  ngOnDestroy() {\n    super.ngOnDestroy();\n\n    this.personalities$.unsubscribe();\n    this.genders$.unsubscribe();\n    this.achievements$.unsubscribe();\n  }\n\n  parseTitles(achievements) {\n    this.titles = _(achievements)\n      .map('rewards')\n      .flattenDeep()\n      .filter(reward => reward.type === 'title')\n      .map('title')\n      .value();\n  }\n\n  changeGender(gender) {\n    this.primus.changeGender(gender);\n  }\n\n  changeTitle(title) {\n    this.primus.changeTitle(title);\n  }\n\n  togglePersonality(personality) {\n    this.primus.togglePersonality(personality);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.ts"],"sourceRoot":""}