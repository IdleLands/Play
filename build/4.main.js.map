{"version":3,"sources":["../../src/pages/settings/settings.module.ts","../../src/pages/settings/settings.ts"],"names":[],"mappings":"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","file":"4.main.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { SettingsPage } from './settings';\r\nimport { IonicPageModule } from 'ionic-angular';\r\n\r\n@NgModule({\r\n  declarations: [SettingsPage],\r\n  imports: [IonicPageModule.forChild(SettingsPage)],\r\n})\r\nexport class SettingsPageModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.module.ts","import * as _ from 'lodash';\r\n\r\nimport { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { IonicPage, NavController } from 'ionic-angular';\r\n\r\nimport { LocalStorage } from 'ng2-webstorage';\r\n\r\nimport { AppState, Primus } from '../../services';\r\nimport { PlayComponent } from '../../components/play.component';\r\n\r\nimport { Personalities } from '../../models';\r\n\r\ndeclare var VERSION: string;\r\n\r\n@IonicPage({\r\n  segment: 'settings'\r\n})\r\n@Component({\r\n  selector: 'page-settings',\r\n  templateUrl: 'settings.html'\r\n})\r\nexport class SettingsPage extends PlayComponent implements OnInit, OnDestroy {\r\n\r\n  personalities$: any;\r\n  personalities: Personalities;\r\n\r\n  genders$: any;\r\n  genders: string[] = [];\r\n\r\n  achievements$: any;\r\n  titles: string[] = [];\r\n\r\n  @LocalStorage()\r\n  theme: string;\r\n\r\n  @LocalStorage()\r\n  faviconNotifications: boolean;\r\n\r\n  @LocalStorage()\r\n  compressChat: boolean;\r\n\r\n  themes = [\r\n    { name: 'Default',        val: 'default' },\r\n    { name: 'AMOLED Black',   val: 'amoled' },\r\n    { name: 'Black & White',  val: 'blackwhite' },\r\n    { name: 'Dark',           val: 'dark' },\r\n    { name: 'Dim Ocean',      val: 'dimocean' },\r\n    { name: 'Green Machine',  val: 'greenmachine' },\r\n    { name: 'l33t h4x0r',     val: 'hacker' },\r\n    { name: 'Majestic',       val: 'majestic' },\r\n    { name: 'Orangina',       val: 'orangina' }\r\n  ];\r\n\r\n  constructor(\r\n    public appState: AppState,\r\n    public primus: Primus,\r\n    public navCtrl: NavController,\r\n  ) {\r\n    super(appState, primus, navCtrl);\r\n  }\r\n\r\n  get version() {\r\n    return VERSION;\r\n  }\r\n\r\n  get thanks() {\r\n    return [\r\n      { name: 'Darkblizer', reason: 'Art' },\r\n      { name: 'Sedgwick', reason: 'Donation, Maps' },\r\n      { name: 'Yngvildr', reason: 'Development' },\r\n      { name: 'Therealtahu', reason: 'Support, Development, Stability' },\r\n      { name: 'Anexes', reason: 'Development' },\r\n      { name: 'Ascended', reason: 'Content, Development, Donation' }\r\n    ];\r\n  }\r\n\r\n  ngOnInit() {\r\n    super.ngOnInit();\r\n\r\n    if(!this.theme) this.theme = 'default';\r\n\r\n    this.personalities$ = this.appState.personalities.subscribe(data => this.personalities = data);\r\n    this.genders$ = this.appState.genders.subscribe(data => this.genders = data);\r\n    this.achievements$ = this.appState.achievements.subscribe(data => this.parseTitles(data));\r\n\r\n    this.primus.requestPersonalities();\r\n    this.primus.requestAchievements();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    super.ngOnDestroy();\r\n\r\n    this.personalities$.unsubscribe();\r\n    this.genders$.unsubscribe();\r\n    this.achievements$.unsubscribe();\r\n  }\r\n\r\n  parseTitles(achievements) {\r\n    this.titles = _(achievements)\r\n      .map('rewards')\r\n      .flattenDeep()\r\n      .filter(reward => reward.type === 'title')\r\n      .map('title')\r\n      .sortBy()\r\n      .value();\r\n  }\r\n\r\n  changeGender(gender) {\r\n    this.primus.changeGender(gender);\r\n  }\r\n\r\n  changeTitle(title) {\r\n    this.primus.changeTitle(title);\r\n  }\r\n\r\n  togglePersonality(personality) {\r\n    this.primus.togglePersonality(personality);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.ts"],"sourceRoot":""}