{"version":3,"sources":["../../src/pages/guild/guild.module.ts","../../src/pages/guild/guild.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACL;AACY;AAMhD,IAAa,eAAe;IAA5B;IAA8B,CAAC;IAAD,sBAAC;AAAD,CAAC;AAAlB,eAAe;IAJ3B,8EAAQ,CAAC;QACR,YAAY,EAAE,CAAC,yDAAS,CAAC;QACzB,OAAO,EAAE,CAAC,sEAAe,CAAC,QAAQ,CAAC,yDAAS,CAAC,CAAC;KAC/C,CAAC;GACW,eAAe,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACPiC;AACJ;AAEJ;AAEH;AACc;AAEX;AACE;AACJ;AACF;AAWjD,IAAa,SAAS;IAAS,6BAAa;IAc1C,mBACS,QAAkB,EAClB,MAAc,EACd,OAAsB,EACtB,OAA4B;QAJrC,YAME,kBAAM,QAAQ,EAAE,MAAM,EAAE,OAAO,CAAC,SACjC;QANQ,cAAQ,GAAR,QAAQ,CAAU;QAClB,YAAM,GAAN,MAAM,CAAQ;QACd,aAAO,GAAP,OAAO,CAAe;QACtB,aAAO,GAAP,OAAO,CAAqB;QAb9B,gBAAU,GAAG,CAAC,CAAC;QAEf,iBAAW,GAAG,EAAE,CAAC;QAEjB,kBAAY,GAAG,0EAAiB,CAAC;QACjC,mBAAa,GAAG,4EAAkB,CAAC;QACnC,iBAAW,GAAG,wEAAgB,CAAC;QAC/B,gBAAU,GAAG,sEAAe,CAAC;;IASpC,CAAC;IAED,4BAAQ,GAAR;QAAA,iBAgBC;QAfC,iBAAM,QAAQ,WAAE,CAAC;QAEjB,IAAM,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,iBAAiB,CAAC,CAAC;QACrD,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC;QAEtB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,CAAC,cAAI;YAC9C,KAAI,CAAC,KAAK,GAAG,IAAI,CAAC;YAClB,EAAE,EAAC,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;gBACtB,KAAI,CAAC,WAAW,GAAM,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,MAAM,SAAI,KAAI,CAAC,KAAK,CAAC,UAAY,CAAC;YAC7E,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,KAAI,CAAC,WAAW,GAAG,EAAE,CAAC;YACxB,CAAC;QACH,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC;IAC7B,CAAC;IAED,+BAAW,GAAX;QACE,iBAAM,WAAW,WAAE,CAAC;IACtB,CAAC;IAED,6BAAS,GAAT,UAAU,MAAM;QACd,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,iBAAiB,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC;IACtD,CAAC;IAEH,gBAAC;AAAD,CAAC,CAjD8B,iFAAa,GAiD3C;AAjDY,SAAS;IAPrB,uFAAS,CAAC;QACT,OAAO,EAAE,OAAO;KACjB,CAAC;IACD,+EAAS,CAAC;QACT,QAAQ,EAAE,YAAY;OACG;KAC1B,CAAC;kEAgB2B;QACV,oEAAM;QACL,2EAAa;QACb,MAAmB;AA+BtC;SAjDY,SAAS,e","file":"10.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { GuildPage } from './guild';\nimport { IonicPageModule } from 'ionic-angular';\n\n@NgModule({\n  declarations: [GuildPage],\n  imports: [IonicPageModule.forChild(GuildPage)],\n})\nexport class GuildPageModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/guild/guild.module.ts","\nimport { Component, OnInit, OnDestroy } from '@angular/core';\nimport { IonicPage, NavController } from 'ionic-angular';\n\nimport { LocalStorageService } from 'ng2-webstorage';\n\nimport { AppState, Primus } from '../../services';\nimport { PlayComponent } from '../../components/play.component';\n\nimport { GuildOverviewPage } from './guild-overview';\nimport { GuildBuildingsPage } from './guild-buildings';\nimport { GuildMembersPage } from './guild-members';\nimport { GuildManagePage } from './guild-manage';\n\nimport { Guild } from '../../models';\n\n@IonicPage({\n  segment: 'guild'\n})\n@Component({\n  selector: 'page-guild',\n  templateUrl: 'guild.html'\n})\nexport class GuildPage extends PlayComponent implements OnInit, OnDestroy {\n\n  public guild$: any;\n  public guild: Guild;\n\n  public defaultTab = 0;\n\n  public memberBadge = '';\n\n  public overviewRoot = GuildOverviewPage;\n  public buildingsRoot = GuildBuildingsPage;\n  public membersRoot = GuildMembersPage;\n  public manageRoot = GuildManagePage;\n\n  constructor(\n    public appState: AppState,\n    public primus: Primus,\n    public navCtrl: NavController,\n    public storage: LocalStorageService\n  ) {\n    super(appState, primus, navCtrl);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n\n    const tab = this.storage.retrieve('currentGuildTab');\n    this.defaultTab = tab;\n\n    this.guild$ = this.appState.guild.subscribe(data => {\n      this.guild = data;\n      if(this.guild.members) {\n        this.memberBadge = `${this.guild.members.length}/${this.guild.maxMembers}`;\n      } else {\n        this.memberBadge = '';\n      }\n    });\n\n    this.primus.requestGuild();\n  }\n\n  ngOnDestroy() {\n    super.ngOnDestroy();\n  }\n\n  changeTab(newTab) {\n    this.storage.store('currentGuildTab', newTab.index);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/guild/guild.ts"],"sourceRoot":""}