{"version":3,"sources":["../../src/pages/guild/guild.module.ts","../../src/pages/guild/guild.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACL;AACY;AAMhD,IAAa,eAAe;IAA5B;IAA8B,CAAC;IAAD,sBAAC;AAAD,CAAC;AAAlB,eAAe;IAJ3B,8EAAQ,CAAC;QACR,YAAY,EAAE,CAAC,yDAAS,CAAC;QACzB,OAAO,EAAE,CAAC,sEAAe,CAAC,QAAQ,CAAC,yDAAS,CAAC,CAAC;KAC/C,CAAC;GACW,eAAe,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACPiC;AACJ;AAEJ;AAEH;AACc;AAEX;AACE;AACJ;AACF;AAWjD,IAAa,SAAS;IAAS,6BAAa;IAc1C,mBACS,QAAkB,EAClB,MAAc,EACd,OAAsB,EACtB,OAA4B;QAJrC,YAME,kBAAM,QAAQ,EAAE,MAAM,EAAE,OAAO,CAAC,SACjC;QANQ,cAAQ,GAAR,QAAQ,CAAU;QAClB,YAAM,GAAN,MAAM,CAAQ;QACd,aAAO,GAAP,OAAO,CAAe;QACtB,aAAO,GAAP,OAAO,CAAqB;QAb9B,gBAAU,GAAG,CAAC,CAAC;QAEf,iBAAW,GAAG,EAAE,CAAC;QAEjB,kBAAY,GAAG,0EAAiB,CAAC;QACjC,mBAAa,GAAG,4EAAkB,CAAC;QACnC,iBAAW,GAAG,wEAAgB,CAAC;QAC/B,gBAAU,GAAG,sEAAe,CAAC;;IASpC,CAAC;IAED,4BAAQ,GAAR;QAAA,iBAgBC;QAfC,iBAAM,QAAQ,WAAE,CAAC;QAEjB,IAAM,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,iBAAiB,CAAC,CAAC;QACrD,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC;QAEtB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,CAAC,cAAI;YAC9C,KAAI,CAAC,KAAK,GAAG,IAAI,CAAC;YAClB,EAAE,EAAC,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;gBACtB,KAAI,CAAC,WAAW,GAAM,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,MAAM,SAAI,KAAI,CAAC,KAAK,CAAC,UAAY,CAAC;YAC7E,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,KAAI,CAAC,WAAW,GAAG,EAAE,CAAC;YACxB,CAAC;QACH,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC;IAC7B,CAAC;IAED,+BAAW,GAAX;QACE,iBAAM,WAAW,WAAE,CAAC;IACtB,CAAC;IAED,6BAAS,GAAT,UAAU,MAAM;QACd,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,iBAAiB,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC;IACtD,CAAC;IAEH,gBAAC;AAAD,CAAC,CAjD8B,iFAAa,GAiD3C;AAjDY,SAAS;IAPrB,uFAAS,CAAC;QACT,OAAO,EAAE,OAAO;KACjB,CAAC;IACD,+EAAS,CAAC;QACT,QAAQ,EAAE,YAAY;OACG;KAC1B,CAAC;kEAgB2B;QACV,oEAAM;QACL,2EAAa;QACb,MAAmB;AA+BtC;SAjDY,SAAS,e","file":"10.main.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { GuildPage } from './guild';\r\nimport { IonicPageModule } from 'ionic-angular';\r\n\r\n@NgModule({\r\n  declarations: [GuildPage],\r\n  imports: [IonicPageModule.forChild(GuildPage)],\r\n})\r\nexport class GuildPageModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/guild/guild.module.ts","\r\nimport { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { IonicPage, NavController } from 'ionic-angular';\r\n\r\nimport { LocalStorageService } from 'ng2-webstorage';\r\n\r\nimport { AppState, Primus } from '../../services';\r\nimport { PlayComponent } from '../../components/play.component';\r\n\r\nimport { GuildOverviewPage } from './guild-overview';\r\nimport { GuildBuildingsPage } from './guild-buildings';\r\nimport { GuildMembersPage } from './guild-members';\r\nimport { GuildManagePage } from './guild-manage';\r\n\r\nimport { Guild } from '../../models';\r\n\r\n@IonicPage({\r\n  segment: 'guild'\r\n})\r\n@Component({\r\n  selector: 'page-guild',\r\n  templateUrl: 'guild.html'\r\n})\r\nexport class GuildPage extends PlayComponent implements OnInit, OnDestroy {\r\n\r\n  public guild$: any;\r\n  public guild: Guild;\r\n\r\n  public defaultTab = 0;\r\n\r\n  public memberBadge = '';\r\n\r\n  public overviewRoot = GuildOverviewPage;\r\n  public buildingsRoot = GuildBuildingsPage;\r\n  public membersRoot = GuildMembersPage;\r\n  public manageRoot = GuildManagePage;\r\n\r\n  constructor(\r\n    public appState: AppState,\r\n    public primus: Primus,\r\n    public navCtrl: NavController,\r\n    public storage: LocalStorageService\r\n  ) {\r\n    super(appState, primus, navCtrl);\r\n  }\r\n\r\n  ngOnInit() {\r\n    super.ngOnInit();\r\n\r\n    const tab = this.storage.retrieve('currentGuildTab');\r\n    this.defaultTab = tab;\r\n\r\n    this.guild$ = this.appState.guild.subscribe(data => {\r\n      this.guild = data;\r\n      if(this.guild.members) {\r\n        this.memberBadge = `${this.guild.members.length}/${this.guild.maxMembers}`;\r\n      } else {\r\n        this.memberBadge = '';\r\n      }\r\n    });\r\n\r\n    this.primus.requestGuild();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    super.ngOnDestroy();\r\n  }\r\n\r\n  changeTab(newTab) {\r\n    this.storage.store('currentGuildTab', newTab.index);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/guild/guild.ts"],"sourceRoot":""}