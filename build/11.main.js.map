{"version":3,"sources":["../../src/pages/equipment/equipment.module.ts","../../src/pages/equipment/equipment.ts"],"names":[],"mappings":"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","file":"11.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { EquipmentPage } from './equipment';\nimport { GlobalComponentsModule } from '../../components/components.module';\nimport { IonicPageModule } from 'ionic-angular';\n\n@NgModule({\n  declarations: [EquipmentPage],\n  imports: [GlobalComponentsModule, IonicPageModule.forChild(EquipmentPage)],\n})\nexport class EquipmentPageModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/equipment/equipment.module.ts","import * as _ from 'lodash';\n\nimport { Component, OnInit, OnDestroy } from '@angular/core';\nimport { IonicPage, NavController } from 'ionic-angular';\n\nimport { AppState, Primus } from '../../services';\nimport { PlayComponent } from '../../components/play.component';\n\n@IonicPage({\n  segment: 'equipment'\n})\n@Component({\n  selector: 'page-equipment',\n  templateUrl: 'equipment.html'\n})\nexport class EquipmentPage extends PlayComponent implements OnInit, OnDestroy {\n\n  equipment$: any;\n  public equipment: any;\n  public iterationOrder: string[];\n\n  equippedItemButtons = [\n    { name: 'To Pet', callback: (item) => this.primus.giveItemToPet(item.id) }\n  ];\n\n  constructor(\n    public appState: AppState,\n    public primus: Primus,\n    public navCtrl: NavController\n  ) {\n    super(appState, primus, navCtrl);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n\n    this.equipment$ = this.appState.equipment.subscribe(data => {\n      this.setEquipment(data);\n    });\n\n    this.primus.requestEquipment();\n  }\n\n  ngOnDestroy() {\n    this.equipment$.unsubscribe();\n  }\n\n  getTotalItem() {\n    const totalItem = {\n      name: 'Equipment Totals',\n      type: 'total',\n      itemClass: 'newbie'\n    };\n\n    _.each(this.equipment, item => {\n      const keys = _.reject(_.keys(item), key => {\n        return !_.isNumber(item[key]) || key === 'foundAt' || key.includes('Req');\n      });\n\n      _.each(keys, key => {\n        if(!totalItem[key]) totalItem[key] = 0;\n        totalItem[key] += item[key];\n        if (totalItem[key] === 0) delete totalItem[key];\n      });\n    });\n\n    return totalItem;\n  }\n\n  setEquipment(data) {\n    this.equipment = data || {};\n    this.iterationOrder = _.sortBy(_.keys(data));\n\n    this.equipment.total = this.getTotalItem();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/equipment/equipment.ts"],"sourceRoot":""}