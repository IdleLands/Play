{"version":3,"sources":["../../src/pages/equipment/equipment.module.ts","../../src/pages/equipment/equipment.ts"],"names":[],"mappings":"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","file":"11.main.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { EquipmentPage } from './equipment';\r\nimport { GlobalComponentsModule } from '../../components/components.module';\r\nimport { IonicPageModule } from 'ionic-angular';\r\n\r\n@NgModule({\r\n  declarations: [EquipmentPage],\r\n  imports: [GlobalComponentsModule, IonicPageModule.forChild(EquipmentPage)],\r\n})\r\nexport class EquipmentPageModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/equipment/equipment.module.ts","import * as _ from 'lodash';\r\n\r\nimport { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { IonicPage, NavController } from 'ionic-angular';\r\n\r\nimport { AppState, Primus } from '../../services';\r\nimport { PlayComponent } from '../../components/play.component';\r\n\r\n@IonicPage({\r\n  segment: 'equipment'\r\n})\r\n@Component({\r\n  selector: 'page-equipment',\r\n  templateUrl: 'equipment.html'\r\n})\r\nexport class EquipmentPage extends PlayComponent implements OnInit, OnDestroy {\r\n\r\n  equipment$: any;\r\n  public equipment: any;\r\n  public iterationOrder: string[];\r\n\r\n  equippedItemButtons = [\r\n    { name: 'To Pet', callback: (item) => this.primus.giveItemToPet(item.id) }\r\n  ];\r\n\r\n  constructor(\r\n    public appState: AppState,\r\n    public primus: Primus,\r\n    public navCtrl: NavController\r\n  ) {\r\n    super(appState, primus, navCtrl);\r\n  }\r\n\r\n  ngOnInit() {\r\n    super.ngOnInit();\r\n\r\n    this.equipment$ = this.appState.equipment.subscribe(data => {\r\n      this.setEquipment(data);\r\n    });\r\n\r\n    this.primus.requestEquipment();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.equipment$.unsubscribe();\r\n  }\r\n\r\n  getTotalItem() {\r\n    const totalItem = {\r\n      name: 'Equipment Totals',\r\n      type: 'total',\r\n      itemClass: 'newbie'\r\n    };\r\n\r\n    _.each(this.equipment, item => {\r\n      const keys = _.reject(_.keys(item), key => {\r\n        return !_.isNumber(item[key]) || key === 'foundAt' || key.includes('Req');\r\n      });\r\n\r\n      _.each(keys, key => {\r\n        if(!totalItem[key]) totalItem[key] = 0;\r\n        totalItem[key] += item[key];\r\n        if (totalItem[key] === 0) delete totalItem[key];\r\n      });\r\n    });\r\n\r\n    return totalItem;\r\n  }\r\n\r\n  setEquipment(data) {\r\n    this.equipment = data || {};\r\n    this.iterationOrder = _.sortBy(_.keys(data));\r\n\r\n    this.equipment.total = this.getTotalItem();\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/equipment/equipment.ts"],"sourceRoot":""}